{% extends "AppLibrary/padre.html" %}
{% load static %}
{% block contenidoDinamico %}

<h1>Página de libros</h1>
<div class="container">
  <div class="row">
    <div class="col">
      <h2>Agrega un libro</h2>

      {% if libroFormulario.errors %}

      <p style="color: red">Hay errores en los datos, revisa por favor.</p>

      {% endif %}

      <form action="/AppLibrary/libros/" method="post">
        {% csrf_token %}
        <table>
          {{ libroFormulario.as_table}}
        </table>
        <input type="submit" value="Enviar" />
      </form>
    </div>
    <div class="col">
      <h2>Búsca un libro</h2>

      <form action="/AppLibrary/libros/" method="get">
        {% csrf_token %}
        <input type="text" name="titulo" />
        <input type="submit" value="Enviar" />
      </form>

      {% if libros %}
      <h2>Búsqueda del título: {{titulo}}</h2>
      <table class="table">
        <tr>
          <th>Título</th>
          <th>Autor</th>
        </tr>
        {% for libro in libros %}
        <tr>
          <td>{{libro.titulo}}</td>
          <td>{{libro.autor}}</td>
        </tr>
        {% endfor %}
      </table>
      {% endif %}
    </div>
  </div>
</div>

{% endblock %}
